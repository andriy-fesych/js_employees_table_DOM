{"version":3,"sources":["scripts/main.js"],"names":["headers","document","querySelectorAll","slice","tableSorting","header","shift","index","cellIndex","list","i","length","a","cells","innerText","b","replace","dataset","sortingOrder","undefined","parentNode","insertBefore","querySelector","addEventListener","ev","includes","target","forEach","element","classList","remove","closest","className","newForm","createElement","innerHTML","body","append","cities","select","option","value","add","pushNotification","posTop","posRight","title","description","type","block","text","divTitle","setAttribute","textContent","style","top","right","setTimeout","validateForm","formName","position","age","evnt","preventDefault","emplName","emplPosition","emplAge","emplOffice","newEmployee","emplMoney","Intl","NumberFormat","format","lastElementChild","previousElementSibling"],"mappings":"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","file":"main.ae5f1970.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst headers = [...document.querySelectorAll('th')].slice(0, 5);\n\ndocument.querySelector('table').addEventListener('click', ev => {\n  if (headers.includes(ev.target)) {\n    tableSorting(ev.target);\n  } else {\n    [...document.querySelectorAll('tbody tr')].forEach(element => {\n      element.classList.remove('active');\n    });\n\n    ev.target.closest('tr').className = 'active';\n  }\n});\n\nfunction tableSorting(header) {\n  const index = header.cellIndex;\n  let shift = 'happened';\n\n  while (shift === 'happened') {\n    shift = 'not happened';\n\n    const list = [...document.querySelectorAll('tbody tr')];\n\n    for (let i = 0; i < list.length - 1; i++) {\n      let a = list[i].cells[index].innerText;\n      let b = list[i + 1].cells[index].innerText;\n\n      if (header.innerText === 'Salary') {\n        a = +a.replace(/,|\\$/gi, '');\n        b = +b.replace(/,|\\$/gi, '');\n      }\n\n      if (((a > b)\n        && (header.dataset.sortingOrder === 'descending'\n        || header.dataset.sortingOrder === undefined))\n      || ((a < b)\n        && (header.dataset.sortingOrder === 'ascending'))) {\n        list[i].parentNode.insertBefore(list[i + 1], list[i]);\n        shift = 'happened';\n      };\n    }\n  }\n\n  if (header.dataset.sortingOrder === 'ascending') {\n    header.dataset.sortingOrder = 'descending';\n  } else {\n    header.dataset.sortingOrder = 'ascending';\n  }\n}\n\nconst newForm = document.createElement('form');\n\nnewForm.className = 'new-employee-form';\n\nnewForm.innerHTML\n  = `<label>Name: <input data-qa=\"name\" name=\"name\" type=\"text\" required>\n  </label>\n  <label>Position: <input data-qa=\"position\" name=\"position\"\n  type=\"text\" required></label>\n  <label>Office: \n  <select data-qa=\"office\" name=\"office\" id=\"cities\" required>\n  </select>\n  </label>\n  <label>Age: <input data-qa=\"age\" name=\"age\" type=\"number\" required></label>\n  <label>Salary: <input data-qa=\"salary\" name=\"salary\" type=\"number\" required>\n  </label>\n  <button name=\"save_to_table\">Save to table</button>`;\n\ndocument.body.append(newForm);\n\nconst cities = ['Tokyo', 'Singapore', 'London', 'New York', 'Edinburgh',\n  'San Francisco'];\nconst select = document.querySelector('#cities');\n\nfor (let i = 0; i < cities.length; i++) {\n  const option = document.createElement('option');\n\n  option.value = option.innerText = cities[i];\n  select.add(option);\n}\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const block = document.createElement('div');\n  const text = document.createElement('p');\n  const divTitle = document.createElement('h2');\n\n  block.setAttribute('data-qa', 'notification');\n  divTitle.className = 'title';\n  divTitle.textContent = title;\n\n  text.innerText = description;\n  block.className = `notification ${type}`;\n  block.style.top = `${posTop}px`;\n  block.style.right = `${posRight}px`;\n  block.append(divTitle);\n  block.append(text);\n\n  document.body.append(block);\n\n  setTimeout(() => {\n    block.remove();\n  }, 2000);\n};\n\ndocument.body.querySelector('button').addEventListener('click', (evnt) => {\n  evnt.preventDefault();\n\n  const emplName = document.querySelector('[name = \"name\"]').value;\n  const emplPosition = document.querySelector('[name = \"position\"]').value;\n  const emplAge = document.querySelector('[name = \"age\"]').value;\n  const emplOffice = document.querySelector('[name = \"office\"]').value;\n  const newEmployee = document.createElement('tr');\n  const emplMoney = '$' + Intl.NumberFormat('en-US')\n    .format(document.querySelector('[name = \"salary\"]').value);\n\n  if (!validateForm(emplName, emplPosition, emplAge)) {\n    pushNotification(700, 10, 'Title of Error message',\n      'Message example.\\n '\n        + 'Notification should contain title and description.', 'error');\n  } else {\n    newEmployee.innerHTML\n      = `<td>${emplName}</td>\n      <td>${emplPosition}</td>\n      <td>${emplOffice}</td>\n      <td>${emplAge}</td>\n      <td>${emplMoney}</td>`;\n\n    document.querySelector('table').lastElementChild\n      .previousElementSibling.append(newEmployee);\n\n    pushNotification(700, 10, 'Title of Succes message',\n      'Message example.\\n '\n        + 'Notification should contain title and description.', 'success');\n  }\n});\n\nfunction validateForm(formName, position, age) {\n  if (formName.length < 4 || position.length < 4 || age < 18 || age > 90) {\n    return false;\n  } else {\n    return true;\n  }\n}\n"]}